<div class="verify-container">
  <div class="verify-card card">
    <div class="verify-header">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor" class="logo-icon">
          <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
        </svg>
      </div>
      <h1 class="verify-title">Verify Your Email</h1>
      <p class="verify-subtitle">
        We've sent a 6-digit code to<br>
        <strong>{{ email() }}</strong>
      </p>
    </div>

    <form [formGroup]="verifyForm" (ngSubmit)="onSubmit()" class="verify-form">
      @if (errorMessage()) {
        <div class="error-banner">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
          {{ errorMessage() }}
        </div>
      }

      <div class="form-group">
        <label for="otp" class="form-label">Verification Code</label>
        <input
          id="otp"
          type="text"
          formControlName="otp"
          class="input otp-input"
          [class.input-error]="getFieldError('otp')"
          placeholder="Enter 6-digit code"
          maxlength="6"
          autocomplete="one-time-code"
        />
        @if (getFieldError('otp')) {
          <div class="form-error">{{ getFieldError('otp') }}</div>
        }
      </div>

      <button
        type="submit"
        class="btn btn-primary verify-button"
        [disabled]="isLoading()"
      >
        @if (isLoading()) {
          <svg class="spinner" width="16" height="16" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" opacity="0.25"/>
            <path fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" opacity="0.75"/>
          </svg>
          Verifying...
        } @else {
          Verify Email
        }
      </button>
    </form>

    <div class="verify-footer">
      <p class="resend-text">
        Didn't receive the code? 
        <a href="#" class="resend-link">Resend code</a>
      </p>
      <p class="back-text">
        <a routerLink="/register" class="back-link">‚Üê Back to registration</a>
      </p>
    </div>
  </div>
</div>